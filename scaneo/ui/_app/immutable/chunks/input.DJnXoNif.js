import{ao as y,ap as n,al as A,a0 as k,K as g}from"./runtime.B6coxiGD.js";import{a as S}from"./attributes.aUdXhcos.js";import{g as i,i as q}from"./proxy.BT_Zq6Rg.js";function u(e,l,a,f=a){e.addEventListener(l,a);const r=e.__on_r;r?e.__on_r=()=>{r(),f()}:e.__on_r=f,S()}function D(e,l,a=l){var f=y();u(e,"input",()=>{var r=t(e)?b(e.value):e.value;a(r),f&&r!==(r=l())&&(e.value=r??"")}),n(()=>{var r=l();if(g&&e.defaultValue!==e.value){a(e.value);return}t(e)&&r===b(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}const d=new Set;function E(e,l,a,f,r=f){var o=a.getAttribute("type")==="checkbox",v=e;let h=!1;if(l!==null)for(var s of l)v=v[s]??(v[s]=[]);v.push(a),u(a,"change",()=>{var c=a.__value;o&&(c=m(v,c,a.checked)),r(c)},()=>r(o?[]:null)),n(()=>{var c=f();if(g&&a.defaultChecked!==a.checked){h=!0;return}o?(c=c||[],a.checked=i(c).includes(i(a.__value))):a.checked=q(a.__value,c)}),A(()=>{var c=v.indexOf(a);c!==-1&&v.splice(c,1)}),d.has(v)||(d.add(v),k(()=>{v.sort((c,_)=>c.compareDocumentPosition(_)===4?-1:1),d.delete(v)})),k(()=>{if(h){var c;if(o)c=m(v,c,a.checked);else{var _=v.find(w=>w.checked);c=_==null?void 0:_.__value}r(c)}})}function K(e,l,a=l){u(e,"change",()=>{var f=e.checked;a(f)}),l()==null&&a(!1),n(()=>{var f=l();e.checked=!!f})}function m(e,l,a){for(var f=new Set,r=0;r<e.length;r+=1)e[r].checked&&f.add(e[r].__value);return a||f.delete(l),Array.from(f)}function t(e){var l=e.type;return l==="number"||l==="range"}function b(e){return e===""?null:+e}export{E as a,D as b,K as c,u as l};
