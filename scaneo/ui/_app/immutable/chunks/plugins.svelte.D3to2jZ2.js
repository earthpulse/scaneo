import{p as l}from"./proxy.D4aqs5o-.js";import{e as c,g as i,b as n}from"./runtime.cJOh_ioU.js";import{b as p,f as g}from"./fetcher.C3wkiN9W.js";async function d(){const r=`${p.api_url}/_plugins`;return g(r)}const f=async r=>{const a=`${p.api_url}/_plugins`;return g(a,"POST",{name:r})},_=async r=>{const a=`${p.api_url}/_plugins/${r}`;return g(a,"DELETE")};function b(){let r=c(l([])),a=c(!0),u=c(null);return{get data(){return i(r)},get loading(){return i(a)},get error(){return i(u)},retrieve:async()=>{n(a,!0);const{data:t,error:e}=await d();e&&n(u,l(e.message)),n(r,l(t)),n(a,!1)},enable:async t=>{const{data:e,error:s}=await f(t);if(s)throw s;n(r,l(i(r).map(o=>o.name===t?e:o)))},disable:async t=>{const{data:e,error:s}=await _(t);s&&console.error(s),n(r,l(i(r).map(o=>o.name===t?e:o)))}}}const P=b();export{P as p};
