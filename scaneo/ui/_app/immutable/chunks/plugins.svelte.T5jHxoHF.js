import{p as i}from"./proxy.BT_Zq6Rg.js";import{N as c,g as l,o as n}from"./runtime.B6coxiGD.js";import{f as g,P as d}from"./fetcher.BMDzGJ_8.js";async function p(){const r=`${d}/_plugins`;return g(r)}const f=async r=>{const t=`${d}/_plugins`;return g(t,"POST",{name:r})},m=async r=>{const t=`${d}/_plugins/${r}`;return g(t,"DELETE")};function y(){let r=c(i([])),t=c(!0),u=c(null);return{get data(){return l(r)},get loading(){return l(t)},get error(){return l(u)},retrieve:async()=>{n(t,!0);const{data:a,error:e}=await p();e&&n(u,i(e.message)),n(r,i(a)),n(t,!1)},enable:async a=>{const{data:e,error:s}=await f(a);if(s)throw s;n(r,i(l(r).map(o=>o.name===a?e:o)))},disable:async a=>{const{data:e,error:s}=await m(a);s&&console.error(s),n(r,i(l(r).map(o=>o.name===a?e:o)))}}}const w=y();export{w as p};
