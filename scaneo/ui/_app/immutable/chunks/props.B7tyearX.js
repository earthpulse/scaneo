import{o as w,q as B,L as C,P as F,v as y,g as _,b as N,B as x,R as U,w as A,x as Y,y as z,z as G,j as M,d as D,A as $,C as j,D as H,E as b,F as V,G as Z}from"./runtime.cJOh_ioU.js";import{p as J}from"./proxy.D4aqs5o-.js";function T(a){for(var r=b,n=b;r!==null&&!(r.f&(x|U));)r=r.parent;try{return A(r),a()}finally{A(n)}}function W(a,r,n,v){var h;var I=(n&Y)!==0,l=(n&z)!==0,L=(n&G)!==0,g=(n&V)!==0,d=a[r],i=(h=w(a,r))==null?void 0:h.set,t=v,c=!0,o=!1,m=()=>(o=!0,c&&(c=!1,g?t=M(v):t=v),t);d===void 0&&v!==void 0&&(i&&l&&B(),d=m(),i&&i(d));var u;if(l)u=()=>{var e=a[r];return e===void 0?m():(c=!0,o=!1,e)};else{var p=T(()=>(I?D:$)(()=>a[r]));p.f|=C,u=()=>{var e=_(p);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(n&F))return u;if(i){var q=a.$$legacy;return function(e,f){return arguments.length>0?((!l||!f||q)&&i(f?u():e),e):u()}}var E=!1,O=!1,P=Z(d),s=T(()=>D(()=>{var e=u(),f=_(P),R=j;return E||e===void 0&&R.f&H?(E=!1,O=!0,f):(O=!1,P.v=e)}));return I||(s.equals=y),function(e,f){var R=_(s);if(arguments.length>0){const S=f?_(s):l&&L?J(e):e;return s.equals(S)||(E=!0,N(P,S),o&&t!==void 0&&(t=S),_(s)),e}return R}}export{W as p};
