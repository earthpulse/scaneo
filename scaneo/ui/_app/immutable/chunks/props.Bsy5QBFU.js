import{l as w,m as B,L as C,P as y,n as F,g as _,o as N,B as x,R as U,q as A,v as Y,w as z,x as M,h as $,d as D,y as G,z as H,D as V,A as T,C as Z,E as j}from"./runtime.B6coxiGD.js";import{p as J}from"./proxy.BT_Zq6Rg.js";function b(a){for(var r=T,n=T;r!==null&&!(r.f&(x|U));)r=r.parent;try{return A(r),a()}finally{A(n)}}function W(a,r,n,v){var O;var m=(n&Y)!==0,l=(n&z)!==0,L=(n&M)!==0,g=(n&Z)!==0,d=a[r],i=(O=w(a,r))==null?void 0:O.set,t=v,c=!0,o=!1,I=()=>(o=!0,c&&(c=!1,g?t=$(v):t=v),t);d===void 0&&v!==void 0&&(i&&l&&B(),d=I(),i&&i(d));var u;if(l)u=()=>{var e=a[r];return e===void 0?I():(c=!0,o=!1,e)};else{var h=b(()=>(m?D:G)(()=>a[r]));h.f|=C,u=()=>{var e=_(h);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(n&y))return u;if(i){var q=a.$$legacy;return function(e,f){return arguments.length>0?((!l||!f||q)&&i(f?u():e),e):u()}}var E=!1,p=!1,P=j(d),s=b(()=>D(()=>{var e=u(),f=_(P),R=H;return E||e===void 0&&R.f&V?(E=!1,p=!0,f):(p=!1,P.v=e)}));return m||(s.equals=F),function(e,f){var R=_(s);if(arguments.length>0){const S=f?_(s):l&&L?J(e):e;return s.equals(S)||(E=!0,N(P,S),o&&t!==void 0&&(t=S),_(s)),e}return R}}export{W as p};
