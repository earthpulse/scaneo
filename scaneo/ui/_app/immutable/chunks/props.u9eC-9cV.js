import{h as w,i as B,L as y,P as C,j as F,g as _,b as N,B as x,R as U,k as D,l as Y,m as z,o as M,q as $,d as b,v as j,w as G,D as H,x as A,y as V,z as Z}from"./runtime.Cc8uOHDr.js";import{p as k}from"./proxy.BspkkFag.js";function T(a){for(var r=A,n=A;r!==null&&!(r.f&(x|U));)r=r.parent;try{return D(r),a()}finally{D(n)}}function Q(a,r,n,v){var O;var m=(n&Y)!==0,l=(n&z)!==0,L=(n&M)!==0,g=(n&V)!==0,d=a[r],i=(O=w(a,r))==null?void 0:O.set,t=v,c=!0,o=!1,I=()=>(o=!0,c&&(c=!1,g?t=$(v):t=v),t);d===void 0&&v!==void 0&&(i&&l&&B(),d=I(),i&&i(d));var u;if(l)u=()=>{var e=a[r];return e===void 0?I():(c=!0,o=!1,e)};else{var h=T(()=>(m?b:j)(()=>a[r]));h.f|=y,u=()=>{var e=_(h);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(n&C))return u;if(i){var q=a.$$legacy;return function(e,f){return arguments.length>0?((!l||!f||q)&&i(f?u():e),e):u()}}var P=!1,p=!1,E=Z(d),s=T(()=>b(()=>{var e=u(),f=_(E),R=G;return P||e===void 0&&R.f&H?(P=!1,p=!0,f):(p=!1,E.v=e)}));return m||(s.equals=F),function(e,f){var R=_(s);if(arguments.length>0){const S=f?_(s):l&&L?k(e):e;return s.equals(S)||(P=!0,N(E,S),o&&t!==void 0&&(t=S),_(s)),e}return R}}export{Q as p};
