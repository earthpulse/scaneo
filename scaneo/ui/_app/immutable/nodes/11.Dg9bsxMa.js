import{a as d,t as l,c as R}from"../chunks/disclose-version.hHXjza9X.js";import{p as T,a as U,f as F,t as u,s as b,c as i,r as s,g as a,e as G,b as c}from"../chunks/runtime.B40kIuYm.js";import{s as g}from"../chunks/render.CM3wPBfR.js";import{i as x}from"../chunks/if.BU02RLSO.js";import{e as V,i as W}from"../chunks/each.DvJ5DvNT.js";import{d as X}from"../chunks/events.DTvxUH_b.js";import{s as A}from"../chunks/class.ysGxxhcu.js";import{p as H}from"../chunks/proxy.B3-__M_J.js";import{p as m}from"../chunks/plugins.svelte.BB7JkIoQ.js";var Y=l("<div>loading...</div>"),Z=l("<div> </div>"),aa=(y,p,r)=>p(a(r).name),ra=l('<span class="loading loading-spinner"></span>'),ta=l("<button><!> </button>"),ea=(y,p,r)=>p(a(r).name),sa=l('<span class="loading loading-spinner"></span>'),oa=l("<button><!> </button>"),da=l('<div class="card bg-base-100 shadow-xl border border-1"><div class="card-body"><h2 class="card-title"> </h2> <p class="text-sm opacity-70">Status: <span> </span></p> <div class="card-actions justify-end mt-4"><!></div></div></div>'),ia=l('<h1 class="text-3xl font-bold mb-8">Plugins</h1> <div class="grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3"></div>',1),na=l('<div class="p-6"><!></div>');function xa(y,p){T(p,!0);let r=G(!1),o=G(null);const I=async n=>{c(r,!0),c(o,H(n));try{await m.enable(n)}catch(v){alert(v.message)}c(r,!1),c(o,null)},J=async n=>{c(r,!0),c(o,H(n));try{await m.disable(n)}catch(v){alert(v.message)}c(r,!1),c(o,null)};var k=na(),K=i(k);x(K,()=>m.loading,n=>{var v=Y();d(n,v)},n=>{var v=R(),L=F(v);x(L,()=>m.error,w=>{var _=Z(),h=i(_);s(_),u(()=>g(h,m.error)),d(w,_)},w=>{var _=ia(),h=b(F(_),2);V(h,21,()=>m.data,W,(M,e)=>{var $=da(),B=i($),P=i(B),N=i(P);s(P);var j=b(P,2),D=b(i(j)),O=i(D);s(D),s(j);var C=b(j,2),Q=i(C);x(Q,()=>!a(e).enabled,E=>{var t=ta();t.__click=[aa,I,e];var f=i(t);x(f,()=>a(r)&&a(e).name==a(o),q=>{var z=ra();d(q,z)});var S=b(f);s(t),u(()=>{t.disabled=a(r),A(t,`btn btn-primary ${(a(e).name==a(o)?"btn-disabled":"")??""}`),g(S,` ${(a(r)&&a(e).name==a(o)?"enabling...":"Enable")??""}`)}),d(E,t)},E=>{var t=oa();t.__click=[ea,J,e];var f=i(t);x(f,()=>a(r)&&a(e).name==a(o),q=>{var z=sa();d(q,z)});var S=b(f);s(t),u(()=>{t.disabled=a(r),A(t,`btn btn-error ${(a(e).name==a(o)?"btn-disabled":"")??""}`),g(S,` ${(a(r)&&a(e).name==a(o)?"disabling...":"Disable")??""}`)}),d(E,t)}),s(C),s(B),s($),u(()=>{g(N,a(e).name),A(D,a(e).enabled?"text-success":"text-warning"),g(O,a(e).enabled?"enabled":"disabled")}),d(M,$)}),s(h),d(w,_)},!0),d(n,v)}),s(k),d(y,k),U()}X(["click"]);export{xa as component};
