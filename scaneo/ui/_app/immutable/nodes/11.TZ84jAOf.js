import{a as d,t as l,c as R}from"../chunks/disclose-version.DHz0PKsI.js";import{p as T,a as U,f as C,t as u,s as b,c as i,r as s,g as a,N as F,o as c}from"../chunks/runtime.B6coxiGD.js";import{s as g}from"../chunks/render.PYmPAuDm.js";import{i as x}from"../chunks/if.PCbA7Ql5.js";import{e as V,i as W}from"../chunks/each.Czia2JB_.js";import{d as X}from"../chunks/events.aoiNrylR.js";import{s as z}from"../chunks/class.5UNJRUNG.js";import{p as G}from"../chunks/proxy.BT_Zq6Rg.js";import{p as m}from"../chunks/plugins.svelte.T5jHxoHF.js";var Y=l("<div>loading...</div>"),Z=l("<div> </div>"),aa=(y,p,r)=>p(a(r).name),ra=l('<span class="loading loading-spinner"></span>'),ta=l("<button><!> </button>"),ea=(y,p,r)=>p(a(r).name),sa=l('<span class="loading loading-spinner"></span>'),oa=l("<button><!> </button>"),da=l('<div class="card bg-base-100 shadow-xl border border-1"><div class="card-body"><h2 class="card-title"> </h2> <p class="text-sm opacity-70">Status: <span> </span></p> <div class="card-actions justify-end mt-4"><!></div></div></div>'),ia=l('<h1 class="text-3xl font-bold mb-8">Plugins</h1> <div class="grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3"></div>',1),na=l('<div class="p-6"><!></div>');function xa(y,p){T(p,!0);let r=F(!1),o=F(null);const H=async n=>{c(r,!0),c(o,G(n));try{await m.enable(n)}catch(v){alert(v.message)}c(r,!1),c(o,null)},I=async n=>{c(r,!0),c(o,G(n));try{await m.disable(n)}catch(v){alert(v.message)}c(r,!1),c(o,null)};var k=na(),J=i(k);x(J,()=>m.loading,n=>{var v=Y();d(n,v)},n=>{var v=R(),K=C(v);x(K,()=>m.error,w=>{var _=Z(),h=i(_);s(_),u(()=>g(h,m.error)),d(w,_)},w=>{var _=ia(),h=b(C(_),2);V(h,21,()=>m.data,W,(L,e)=>{var $=da(),A=i($),P=i(A),M=i(P);s(P);var j=b(P,2),D=b(i(j)),O=i(D);s(D),s(j);var B=b(j,2),Q=i(B);x(Q,()=>!a(e).enabled,E=>{var t=ta();t.__click=[aa,H,e];var f=i(t);x(f,()=>a(r)&&a(e).name==a(o),S=>{var q=ra();d(S,q)});var N=b(f);s(t),u(()=>{t.disabled=a(r),z(t,`btn btn-primary ${(a(e).name==a(o)?"btn-disabled":"")??""}`),g(N,` ${(a(r)&&a(e).name==a(o)?"enabling...":"Enable")??""}`)}),d(E,t)},E=>{var t=oa();t.__click=[ea,I,e];var f=i(t);x(f,()=>a(r)&&a(e).name==a(o),S=>{var q=sa();d(S,q)});var N=b(f);s(t),u(()=>{t.disabled=a(r),z(t,`btn btn-error ${(a(e).name==a(o)?"btn-disabled":"")??""}`),g(N,` ${(a(r)&&a(e).name==a(o)?"disabling...":"Disable")??""}`)}),d(E,t)}),s(B),s(A),s($),u(()=>{g(M,a(e).name),z(D,a(e).enabled?"text-success":"text-warning"),g(O,a(e).enabled?"enabled":"disabled")}),d(L,$)}),s(h),d(w,_)},!0),d(n,v)}),s(k),d(y,k),U()}X(["click"]);export{xa as component};
