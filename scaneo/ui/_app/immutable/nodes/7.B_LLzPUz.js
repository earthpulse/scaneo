const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../assets/leaflet.GL2v8lVq.css","../assets/leaflet.jCI8mrZJ.css"])))=>i.map(i=>d[i]);
import{a as C,n as T,t as M,d as pe,c as _e,e as Ce}from"../chunks/disclose-version.BmQdNnQs.js";import{b as g,g as t,a6 as Qe,t as B,c as h,s as x,r as m,e as A,p as Z,u as G,a as j,f as Q,d as je,aE as Xe,aF as Ye}from"../chunks/runtime.DxIuT8bo.js";import{i as k}from"../chunks/if.CylRvQJX.js";import{p as I}from"../chunks/proxy.DqozBE76.js";import{s as Ae,a as ke,p as Ve}from"../chunks/stores.Brgn634O.js";import{a as le,s as $}from"../chunks/class.CFsCnGgX.js";import{s as S}from"../chunks/render.DvgmjyIU.js";import{s as y,r as ve,a as De}from"../chunks/attributes.DoQyPotG.js";import{p as _}from"../chunks/props.DAkrzDwa.js";import{_ as fe}from"../chunks/preload-helper.C1FmrZbK.js";import{b as X,f as re}from"../chunks/fetcher.DqgCpJxC.js";import{l as F,L as $e}from"../chunks/Labels.DwgdCv1-.js";import{o as we}from"../chunks/index-client.X3yzDWTZ.js";import{m as me}from"../chunks/models.svelte.CRDofqan.js";import{e as he,i as be}from"../chunks/each.4pS6kvS6.js";import{b as et,D as tt}from"../chunks/DeleteOutline.B6H577wE.js";import{R as at,F as rt}from"../chunks/RobotOutline.BGiBAd6S.js";import{E as ot}from"../chunks/ExportBtn.D26y5nLE.js";import{s as nt}from"../chunks/snippet.BmZya9Kw.js";import{i as Ge}from"../chunks/lifecycle.BzD_GSN4.js";import{b as it,a as lt}from"../chunks/input.Bjo9v0tX.js";import{c as Be}from"../chunks/campaigns.svelte.BewoAAv2.js";function st(r){var e=Qe(0);return function(){return arguments.length===1?(g(e,t(e)+1),arguments[0]):(t(e),r())}}var ct=T("<desc> </desc>"),dt=T("<title> </title>"),vt=T('<svg><!><!><path d="M12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5M12,2A7,7 0 0,1 19,9C19,14.25 12,22 12,22C12,22 5,14.25 5,9A7,7 0 0,1 12,2M12,4A5,5 0 0,0 7,9C7,10 7,12 12,18.71C17,12 17,10 17,9A5,5 0 0,0 12,4Z"></path></svg>');function ut(r,e){let a=_(e,"size",8,"1em"),n=_(e,"width",24,a),i=_(e,"height",24,a),l=_(e,"color",8,"currentColor"),u=_(e,"viewBox",8,"0 0 24 24"),d=_(e,"ariaLabel",24,()=>{}),f=_(e,"ariaHidden",24,()=>{}),v=_(e,"title",24,()=>{}),s=_(e,"desc",24,()=>{}),c=_(e,"class",24,()=>{});var o=vt(),p=h(o);k(p,s,H=>{var b=ct(),E=h(b);m(b),B(()=>S(E,s())),C(H,b)});var w=x(p);k(w,v,H=>{var b=dt(),E=h(b);m(b),B(()=>S(E,v())),C(H,b)});var D=x(w);m(o),B(()=>{y(o,"viewBox",u()),y(o,"width",n()),y(o,"height",i()),le(o,c()),y(o,"aria-label",d()),y(o,"aria-hidden",f()),y(D,"fill",l())}),C(r,o)}var ft=T("<desc> </desc>"),gt=T("<title> </title>"),_t=T('<svg><!><!><path d="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z"></path></svg>');function mt(r,e){let a=_(e,"size",8,"1em"),n=_(e,"width",24,a),i=_(e,"height",24,a),l=_(e,"color",8,"currentColor"),u=_(e,"viewBox",8,"0 0 24 24"),d=_(e,"ariaLabel",24,()=>{}),f=_(e,"ariaHidden",24,()=>{}),v=_(e,"title",24,()=>{}),s=_(e,"desc",24,()=>{}),c=_(e,"class",24,()=>{});var o=_t(),p=h(o);k(p,s,H=>{var b=ft(),E=h(b);m(b),B(()=>S(E,s())),C(H,b)});var w=x(p);k(w,v,H=>{var b=gt(),E=h(b);m(b),B(()=>S(E,v())),C(H,b)});var D=x(w);m(o),B(()=>{y(o,"viewBox",u()),y(o,"width",n()),y(o,"height",i()),le(o,c()),y(o,"aria-label",d()),y(o,"aria-hidden",f()),y(D,"fill",l())}),C(r,o)}var ht=T("<desc> </desc>"),bt=T("<title> </title>"),pt=T('<svg><!><!><path d="M5,3C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19H5V5H12V3H5M17.78,4C17.61,4 17.43,4.07 17.3,4.2L16.08,5.41L18.58,7.91L19.8,6.7C20.06,6.44 20.06,6 19.8,5.75L18.25,4.2C18.12,4.07 17.95,4 17.78,4M15.37,6.12L8,13.5V16H10.5L17.87,8.62L15.37,6.12Z"></path></svg>');function wt(r,e){let a=_(e,"size",8,"1em"),n=_(e,"width",24,a),i=_(e,"height",24,a),l=_(e,"color",8,"currentColor"),u=_(e,"viewBox",8,"0 0 24 24"),d=_(e,"ariaLabel",24,()=>{}),f=_(e,"ariaHidden",24,()=>{}),v=_(e,"title",24,()=>{}),s=_(e,"desc",24,()=>{}),c=_(e,"class",24,()=>{});var o=pt(),p=h(o);k(p,s,H=>{var b=ht(),E=h(b);m(b),B(()=>S(E,s())),C(H,b)});var w=x(p);k(w,v,H=>{var b=bt(),E=h(b);m(b),B(()=>S(E,v())),C(H,b)});var D=x(w);m(o),B(()=>{y(o,"viewBox",u()),y(o,"width",n()),y(o,"height",i()),le(o,c()),y(o,"aria-label",d()),y(o,"aria-hidden",f()),y(D,"fill",l())}),C(r,o)}var yt=T("<desc> </desc>"),Lt=T("<title> </title>"),xt=T('<svg><!><!><path d="M2,2V8H4.28L5.57,16H4V22H10V20.06L15,20.05V22H21V16H19.17L20,9H22V3H16V6.53L14.8,8H9.59L8,5.82V2M4,4H6V6H4M18,5H20V7H18M6.31,8H7.11L9,10.59V14H15V10.91L16.57,9H18L17.16,16H15V18.06H10V16H7.6M11,10H13V12H11M6,18H8V20H6M17,18H19V20H17"></path></svg>');function Et(r,e){let a=_(e,"size",8,"1em"),n=_(e,"width",24,a),i=_(e,"height",24,a),l=_(e,"color",8,"currentColor"),u=_(e,"viewBox",8,"0 0 24 24"),d=_(e,"ariaLabel",24,()=>{}),f=_(e,"ariaHidden",24,()=>{}),v=_(e,"title",24,()=>{}),s=_(e,"desc",24,()=>{}),c=_(e,"class",24,()=>{});var o=xt(),p=h(o);k(p,s,H=>{var b=yt(),E=h(b);m(b),B(()=>S(E,s())),C(H,b)});var w=x(p);k(w,v,H=>{var b=Lt(),E=h(b);m(b),B(()=>S(E,v())),C(H,b)});var D=x(w);m(o),B(()=>{y(o,"viewBox",u()),y(o,"width",n()),y(o,"height",i()),le(o,c()),y(o,"aria-label",d()),y(o,"aria-hidden",f()),y(D,"fill",l())}),C(r,o)}function It(){let r=A(null);return{get map(){return t(r)},set map(e){g(r,I(e))}}}const P=It(),Ct=async r=>{const e=`${X.api_url}/annotations/${r}`;return re(e)};async function Dt(r,e){const a=`${X.api_url}/annotations/classification`;return re(a,"POST",{label:r,imageId:e})}async function Ht(r,e,a){const n=`${X.api_url}/annotations/detection`;return re(n,"POST",{bb:r,label:e,imageId:a})}async function Bt(r,e,a){const n=`${X.api_url}/annotations/segmentation`;return re(n,"POST",{layer_data:r,label:e,imageId:a})}async function At(r,e,a){const n=`${X.api_url}/annotations/points`;return re(n,"POST",{points:r,label:e,imageId:a})}const kt=async r=>{const e=`${X.api_url}/annotations/${r}`;return re(e,"DELETE")};async function Vt(r,e){const a=`${X.api_url}/annotations/detection/${r}`;return re(a,"PUT",{bb:e})}async function St(r,e){const a=`${X.api_url}/annotations/points/${r}`;return re(a,"PUT",{points:e})}function zt(){let r=A(I([])),e=A(!0),a=A(null),n=A(null);return{get data(){return t(r)},get loading(){return t(e)},get error(){return t(a)},get current(){return t(n)},set current(i){g(n,I(i))},retrieve:async i=>{g(e,!0);const{data:l,error:u}=await Ct(i);return u&&g(a,I(u.message)),g(r,I(l)),g(e,!1),l},createClassification:async(i,l)=>{const{data:u,error:d}=await Dt(i,l);if(d)throw new Error(d.message);t(r).find(f=>f.id===u.id)?g(r,I(t(r).map(f=>f.id===u.id?u:f))):g(r,I([u,...t(r)]))},createDetection:async(i,l,u)=>{const{data:d,error:f}=await Ht(i,l,u);if(f)throw new Error(f.message);return g(r,I([d,...t(r)])),d},updateDetection:async(i,l)=>{const{data:u,error:d}=await Vt(i,l);if(d)throw new Error(d.message);g(r,I(t(r).map(f=>f.id===i?{...f,bb:l}:f)))},createSegmentation:async(i,l,u)=>{const{data:d,error:f}=await Bt(i,l,u);if(f)throw new Error(f.message);return g(r,I([d,...t(r)])),d},createPoints:async(i,l,u)=>{const{data:d,error:f}=await At(i,l,u);if(f)throw new Error(f.message);return g(r,I([d,...t(r)])),d},updatePoints:async(i,l)=>{const{data:u,error:d}=await St(i,l);if(d)throw new Error(d.message);g(r,I(t(r).map(f=>f.id===i?{...f,points:l}:f)))},delete:async i=>{const{error:l}=await kt(i);if(l)throw new Error(l.message);g(r,I(t(r).filter(u=>u.id!==i)))},reset:()=>{g(r,I([])),g(e,!0),g(a,null),g(n,null)},append:i=>{g(r,I([...i,...t(r)]))}}}const O=zt(),Mt=async r=>{const e=`${X.api_url}/images/${r}`;return re(e)};function Pt(){let r=A(I([])),e=A(!0),a=A(null),n=A(null);return{get data(){return t(r)},get loading(){return t(e)},get error(){return t(a)},get current(){return t(n)},set current(i){g(n,I(i))},retrieve:async i=>{g(e,!0);const{data:l,error:u}=await Mt(i);u&&g(a,I(u.message)),g(r,I(l)),g(e,!1)},zoom:(i,l)=>{const u=L.latLng(i[1],i[0]),d=L.latLng(i[3],i[2]),f=L.latLngBounds(u,d);l.fitBounds(f)},reset:()=>{g(r,I([])),g(e,!0),g(a,null),g(n,null)}}}const V=Pt();function Tt(){let r=A(null),e=A(null),a,n,i;const l=async s=>{const{layer:c}=s,o=c.getBounds(),p=await O.createDetection([[o._southWest.lat,o._northEast.lng],[o._northEast.lat,o._southWest.lng]],F.current,V.current.id);c.options.color=F.data.filter(w=>p.value==w.name)[0].color,c.annotationId=p.id,t(r).addLayer(c)},u=s=>{s.layers.eachLayer(c=>{const o=c.getBounds();O.updateDetection(c.annotationId,[[o._southWest.lat,o._northEast.lng],[o._northEast.lat,o._southWest.lng]])})},d=s=>{s.layers.eachLayer(c=>{O.delete(c.annotationId)})},f=s=>{t(r)?t(r).clearLayers():g(r,I(new L.FeatureGroup)),s.addLayer(t(r))};return{initItems:f,initControls:s=>{t(r)||f(s),a&&s.off(L.Draw.Event.CREATED,a),n&&s.off(L.Draw.Event.EDITED,n),i&&s.off(L.Draw.Event.DELETED,i),t(e)&&s.removeControl(t(e)),g(e,I(new L.Control.Draw({position:"topright",edit:{featureGroup:t(r)},draw:{polyline:!1,circlemarker:!1,circle:!1,marker:!1,rectangle:{repeatMode:!0,showArea:!1,showLength:!0,shapeOptions:{weight:1}},polygon:!1}}))),s.addControl(t(e)),a=async c=>await l(c),n=u,i=d,s.on(L.Draw.Event.CREATED,a),s.on(L.Draw.Event.EDITED,n),s.on(L.Draw.Event.DELETED,i)},remove:s=>{t(r)&&(s==null||s.removeLayer(t(r))),t(e)&&(s==null||s.removeControl(t(e))),a&&s.off(L.Draw.Event.CREATED,a),n&&s.off(L.Draw.Event.EDITED,n),i&&s.off(L.Draw.Event.DELETED,i),g(r,null),g(e,null)},addLayer:s=>{const c=s.bb,o=L.rectangle([[c[0][0],c[0][1]],[c[1][0],c[1][1]]],{editing:!0});o.options.color=F.data.filter(p=>s.value==p.name)[0].color,o.annotationId=s.id,t(r).addLayer(o)},removeLayer:s=>{var c;(c=t(r))==null||c.eachLayer(o=>{o.annotationId===s&&t(r).removeLayer(o)})}}}const W=Tt();function Ot(){let r=A(null),e=A(null);const a=()=>O.data.find(v=>v.value==F.current&&v.type=="segmentation"),n=()=>{if(a()){const v=a();t(e).setData(v.layer_data),t(e).options.layerOptions.color=F.data.filter(s=>v.value==s.name)[0].color,t(r).eachLayer(s=>{s.annotationId===v.id&&t(r).removeLayer(s)})}},i=async()=>{var s;const v=(s=t(e))==null?void 0:s.getData();if(v)try{if(a()){const p=a();l(p.id)}const c=await O.createSegmentation(v,F.current,V.current.id),o=L.geoJSON(v,{style:{color:F.data.filter(p=>c.value==p.name)[0].color}});o.annotationId=c.id,t(r).addLayer(o),t(e).eraseAll()}catch(c){console.error("Error saving annotation:",c)}},l=v=>{t(r).eachLayer(s=>{s.annotationId===v&&(t(r).removeLayer(s),O.delete(v))}),O.delete(v)};return{initItems:v=>{t(r)?t(r).clearLayers():g(r,I(new L.FeatureGroup)),v.addLayer(t(r))},initControls:v=>{t(e)&&(t(e).stop(),v.removeControl(t(e))),g(e,I(L.control.paintPolygon({layerOptions:{color:F.data.filter(s=>F.current==s.name)[0].color}}))),v.addControl(t(e)),v.on("mousedown",n),v.on("mouseup",i)},addLayer:v=>{const s=L.geoJSON(v.layer_data,{style:{color:F.data.filter(c=>v.value==c.name)[0].color}});s.annotationId=v.id,t(r).addLayer(s)},remove:v=>{t(e)&&(t(e).stop(),t(e).eraseAll(),v.removeControl(t(e)),v.off("mousedown",n),v.off("mouseup",i)),t(r)&&(v==null||v.removeLayer(t(r))),g(r,null),g(e,null)},removeLayer:l}}const U=Ot();function Rt(){let r=A(null),e=A(null),a=A(I([])),n,i;const l=()=>O.data.find(c=>c.value==F.current&&c.type=="points"),u=async c=>{let o={};c.layers.eachLayer(p=>{const w=[p.getLatLng().lat,p.getLatLng().lng],D=t(a).findIndex(H=>H[0]===w[0]&&H[1]===w[1]);D>-1&&(t(a).splice(D,1),p.annotationId&&(o[p.annotationId]=!0))}),Object.keys(o).forEach(p=>{O.updatePoints(p,t(a))})},d=()=>{t(r).eachLayer(c=>{t(r).removeLayer(c)}),g(a,I([]))},f=async c=>{const{layer:o}=c;t(r).addLayer(o),l()?(t(a).push([o.getLatLng().lat,o.getLatLng().lng]),o.annotationId=O.data.find(p=>p.value==F.current&&p.type=="points").id,O.updatePoints(o.annotationId,t(a))):(t(a).push([o.getLatLng().lat,o.getLatLng().lng]),await O.createPoints(t(a),F.current,V.current.id))},v=c=>{t(r)?t(r).clearLayers():g(r,I(new L.FeatureGroup)),c.addLayer(t(r))};return{initItems:v,initControls:c=>{t(r)||v(c),n&&c.off(L.Draw.Event.CREATED,n),i&&c.off(L.Draw.Event.DELETED,i),t(e)&&c.removeControl(t(e)),g(e,I(new L.Control.Draw({position:"topright",edit:{featureGroup:t(r)},draw:{polyline:!1,circlemarker:!1,circle:!1,marker:{repeatMode:!0},rectangle:!1,polygon:!1}}))),c.addControl(t(e)),n=async o=>await f(o),i=async o=>await u(o),c.on(L.Draw.Event.CREATED,n),c.on(L.Draw.Event.DELETED,i)},deletePointsAnnotation:d,remove:c=>{t(r)&&(c==null||c.removeLayer(t(r))),t(e)&&(c==null||c.removeControl(t(e))),i&&c.off(L.Draw.Event.DELETED,i),n&&c.off(L.Draw.Event.CREATED,n),g(r,null),g(e,null),g(a,I([]))},addLayer:c=>{c.points.forEach(p=>{const w=L.marker(p);w.annotationId=c.id,t(r).addLayer(w)})}}}const J=Rt();function Nt(r,e){Z(e,!0),G(async()=>{await fe(()=>import("../chunks/leaflet.draw.cJkf-kdY.js"),[],import.meta.url),await fe(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url);const a=await O.retrieve(V.current.id),n=P.map;U.remove(n),J.remove(n),W.initControls(n),W.initItems(P.map),a==null||a.forEach(i=>{i.type==="detection"&&W.addLayer(i)})}),we(()=>{W.remove(P.map)}),j()}function Ft(r,e){Z(e,!0),G(async()=>{await fe(()=>import("../chunks/Leaflet.PaintPolygon.BL41ABOh.js"),[],import.meta.url);const a=P.map;W.remove(a),J.remove(a),U.initControls(a),U.initItems(a);const n=await O.retrieve(V.current.id);n==null||n.forEach(i=>{i.type==="segmentation"&&U.addLayer(i)})}),we(()=>{U.remove(P.map)}),j()}var Zt=T("<desc> </desc>"),jt=T("<title> </title>"),Gt=T('<svg><!><!><path d="M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z"></path></svg>');function Wt(r,e){let a=_(e,"size",8,"1em"),n=_(e,"width",24,a),i=_(e,"height",24,a),l=_(e,"color",8,"currentColor"),u=_(e,"viewBox",8,"0 0 24 24"),d=_(e,"ariaLabel",24,()=>{}),f=_(e,"ariaHidden",24,()=>{}),v=_(e,"title",24,()=>{}),s=_(e,"desc",24,()=>{}),c=_(e,"class",24,()=>{});var o=Gt(),p=h(o);k(p,s,H=>{var b=Zt(),E=h(b);m(b),B(()=>S(E,s())),C(H,b)});var w=x(p);k(w,v,H=>{var b=jt(),E=h(b);m(b),B(()=>S(E,v())),C(H,b)});var D=x(w);m(o),B(()=>{y(o,"viewBox",u()),y(o,"width",n()),y(o,"height",i()),le(o,c()),y(o,"aria-label",d()),y(o,"aria-hidden",f()),y(D,"fill",l())}),C(r,o)}function Ut(r,e){Z(e,!0),G(async()=>{await fe(()=>import("../chunks/leaflet.draw.cJkf-kdY.js"),[],import.meta.url),await fe(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url);const a=await O.retrieve(V.current.id),n=P.map;U.remove(n),W.remove(n),J.initControls(n),J.initItems(P.map),a==null||a.forEach(i=>{console.log(i),i.type==="points"&&J.addLayer(i)})}),we(()=>{J.remove(P.map)}),j()}var qt=M('<div class="w-[2px] h-[30px] bg-slate-500 self-center rounded-full"></div>');function We(r){var e=qt();C(r,e)}const Jt=async(r,e,a)=>{if(e()){g(a,"classification");try{await O.createClassification(F.current,V.current.id)}catch(n){console.error(n)}}},Kt=async(r,e,a)=>{e()&&g(a,"points")},Qt=(r,e,a)=>{e()&&g(a,"detection")},Xt=(r,e,a)=>{e()&&g(a,"segmentation")},Yt=async(r,e)=>{g(e,null);const a=await O.retrieve(V.current.id);W.initItems(P.map),U.initItems(P.map),J.initItems(P.map),a==null||a.forEach(n=>{n.type==="detection"&&W.addLayer(n),n.type==="segmentation"&&U.addLayer(n),n.type==="points"&&J.addLayer(n)})};var $t=M('<button data-tip="Points"><!></button>'),ea=M('<button data-tip="Classification"><!></button> <button data-tip="Detection"><!></button> <button data-tip="Segmentation"><!></button> <button data-tip="See all annotations"><!></button> <!> <!> <!> <!> <!>',1);function ta(r,e){Z(e,!0);let a=A(null);const n=()=>V.current?F.current?!0:alert("Select label"):alert("Select image");var i=ea(),l=Q(i);l.__click=[Jt,n,a];var u=h(l);ut(u,{size:"15"}),m(l);var d=x(l,2);d.__click=[Qt,n,a];var f=h(d);wt(f,{size:"15"}),m(d);var v=x(d,2);v.__click=[Xt,n,a];var s=h(v);Et(s,{size:"15"}),m(v);var c=x(v,2);c.__click=[Yt,a];var o=h(c);Wt(o,{size:"15"}),m(c);var p=x(c,2);We(p);var w=x(p,2);k(w,()=>{var E;return((E=me.current)==null?void 0:E.task)=="SAM"},E=>{var N=$t();N.__click=[Kt,n,a];var z=h(N);mt(z,{size:"15"}),m(N),B(()=>$(N,`btn ${(t(a)==="points"?"btn-primary":"btn-outline")??""} btn-sm tooltip tooltip-right flex items-center p-2`)),C(E,N)});var D=x(w,2);k(D,()=>t(a)==="detection",E=>{Nt(E,{})});var H=x(D,2);k(H,()=>t(a)==="segmentation",E=>{Ft(E,{})});var b=x(H,2);k(b,()=>t(a)==="points",E=>{Ut(E,{})}),B(()=>{$(l,`btn ${(t(a)==="classification"?"btn-primary":"btn-outline")??""} btn-sm tooltip tooltip-right flex items-center p-2`),$(d,`btn ${(t(a)==="detection"?"btn-primary":"btn-outline")??""} btn-sm tooltip flex items-center p-2`),$(v,`btn ${(t(a)==="segmentation"?"btn-primary":"btn-outline")??""} btn-sm tooltip flex items-center p-2`),$(c,`btn ${(t(a)===null?"btn-primary":"btn-outline")??""} btn-sm tooltip flex items-center p-2`)}),C(r,i),j()}pe(["click"]);const aa=async(r,e,a)=>{if(!V.current)return alert("Select image");if(!t(e))return alert("Select model");g(a,!0);try{const n=await me.inference(t(e),V.current.id);n==null||n.forEach(i=>{i.type==="detection"&&W.addLayer(i),i.type==="segmentation"&&U.addLayer(i)}),O.append(n),P.map.addLayer(L.geoJSON(n))}catch(n){console.error(n),alert(n)}finally{g(a,!1)}};var ra=(r,e)=>me.retrieveOne(t(e)),oa=M("<option> </option>"),na=M('<select class="select select-sm"><option disabled>Select a model</option><!></select> <button class="flex items-center p-2 btn btn-sm tooltip btn-outline" data-tip="Run model inference"><!></button> <!>',1);function ia(r,e){Z(e,!0);const a=Ae(),n=()=>ke(Ve,"$page",a);let i=A(null),l=A(!1);G(()=>{me.retrieve(n().params.campaign)});var u=_e(),d=Q(u);k(d,()=>{var f;return((f=me.data)==null?void 0:f.length)>0},f=>{var v=na(),s=Q(v);s.__change=[ra,i];var c=h(s);c.value=(c.__value=null)==null?"":null;var o=x(c);he(o,17,()=>me.data,be,(H,b)=>{var E=oa(),N={},z=h(E);m(E),B(()=>{N!==(N=t(b).id)&&(E.value=(E.__value=t(b).id)==null?"":t(b).id),S(z,t(b).name)}),C(H,E)}),m(s);var p=x(s,2);p.__click=[aa,i,l];var w=h(p);at(w,{size:"15"}),m(p);var D=x(p,2);We(D),B(()=>p.disabled=t(l)),et(s,()=>t(i),H=>g(i,H)),C(f,v)}),C(r,u),j()}pe(["change","click"]);function la(){let r=A(null),e=A(I([4,3,2])),a=A(I([0,4e3]));return{set showImageBBs(n){g(r,I(n)),localStorage.setItem("showImageBBs",n)},get showImageBBs(){return t(r)},set rgb(n){g(e,I(n)),localStorage.setItem("rgb",n)},get rgb(){return t(e)},set stretch(n){g(a,I(n)),localStorage.setItem("stretch",n)},get stretch(){return t(a)},init:()=>{g(r,localStorage.getItem("showImageBBs")==="true"),g(e,I(localStorage.getItem("rgb")?localStorage.getItem("rgb").split(",").map(Number):[4,3,2])),g(a,I(localStorage.getItem("stretch")?localStorage.getItem("stretch").split(",").map(Number):[0,4e3]))}}}const ee=la();function sa(){let r=A(null);return{initItems:e=>{t(r)?t(r).clearLayers():g(r,I(new L.FeatureGroup)),e.addLayer(t(r))},addBbox:(e,a)=>{let n=e.bbox;n=L.rectangle([[n[1],n[0]],[n[3],n[2]]],{interactive:!0,weight:10}),n.annotationId=e.path,n.on("click",()=>{a.fitBounds(n.getBounds()),V.current=e}),t(r).addLayer(n)},zoom:e=>{const a=t(r).getBounds();a.isValid()&&e.fitBounds(a)},toggle:e=>{ee.showImageBBs?(e.removeLayer(t(r)),ee.showImageBBs=!1):(e.addLayer(t(r)),ee.showImageBBs=!0)},hide:e=>{e==null||e.removeLayer(t(r))},remove:e=>{e==null||e.removeLayer(t(r))}}}const ue=sa();var ca=T("<desc> </desc>"),da=T("<title> </title>"),va=T('<svg><!><!><path d="M20,16V10H22V16A2,2 0 0,1 20,18H8C6.89,18 6,17.1 6,16V4C6,2.89 6.89,2 8,2H16V4H8V16H20M10.91,7.08L14,10.17L20.59,3.58L22,5L14,13L9.5,8.5L10.91,7.08M16,20V22H4A2,2 0 0,1 2,20V7H4V20H16Z"></path></svg>');function ua(r,e){let a=_(e,"size",8,"1em"),n=_(e,"width",24,a),i=_(e,"height",24,a),l=_(e,"color",8,"currentColor"),u=_(e,"viewBox",8,"0 0 24 24"),d=_(e,"ariaLabel",24,()=>{}),f=_(e,"ariaHidden",24,()=>{}),v=_(e,"title",24,()=>{}),s=_(e,"desc",24,()=>{}),c=_(e,"class",24,()=>{});var o=va(),p=h(o);k(p,s,H=>{var b=ca(),E=h(b);m(b),B(()=>S(E,s())),C(H,b)});var w=x(p);k(w,v,H=>{var b=da(),E=h(b);m(b),B(()=>S(E,v())),C(H,b)});var D=x(w);m(o),B(()=>{y(o,"viewBox",u()),y(o,"width",n()),y(o,"height",i()),le(o,c()),y(o,"aria-label",d()),y(o,"aria-hidden",f()),y(D,"fill",l())}),C(r,o)}var fa=T("<desc> </desc>"),ga=T("<title> </title>"),_a=T('<svg><!><!><path d="M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22H20A2,2 0 0,0 22,20V12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"></path></svg>');function ma(r,e){let a=_(e,"size",8,"1em"),n=_(e,"width",24,a),i=_(e,"height",24,a),l=_(e,"color",8,"currentColor"),u=_(e,"viewBox",8,"0 0 24 24"),d=_(e,"ariaLabel",24,()=>{}),f=_(e,"ariaHidden",24,()=>{}),v=_(e,"title",24,()=>{}),s=_(e,"desc",24,()=>{}),c=_(e,"class",24,()=>{});var o=_a(),p=h(o);k(p,s,H=>{var b=fa(),E=h(b);m(b),B(()=>S(E,s())),C(H,b)});var w=x(p);k(w,v,H=>{var b=ga(),E=h(b);m(b),B(()=>S(E,v())),C(H,b)});var D=x(w);m(o),B(()=>{y(o,"viewBox",u()),y(o,"width",n()),y(o,"height",i()),le(o,c()),y(o,"aria-label",d()),y(o,"aria-hidden",f()),y(D,"fill",l())}),C(r,o)}var ha=()=>ue.toggle(P.map),ba=()=>ue.zoom(P.map),pa=M('<section class="flex flex-row gap-2"><span><button><!></button></span> <button class="btn btn-sm btn-outline tooltip tooltip-left flex items-center p-2" data-tip="Reset map"><!></button></section>');function wa(r,e){Z(e,!0),G(()=>{ee.init()});var a=pa(),n=h(a),i=h(n);i.__click=[ha];var l=h(i);ua(l,{size:"15"}),m(i),m(n);var u=x(n,2);u.__click=[ba];var d=h(u);ma(d,{size:"15"}),m(u),m(a),B(()=>{$(i,`btn btn-sm tooltip flex items-center p-2 ${(ee.showImageBBs?"btn-primary":"btn-outline")??""}`),y(i,"data-tip",`${(ee.showImageBBs?"Hide":"Show")??""} bbs`)}),C(r,a),j()}pe(["click"]);var ya=M('<nav class="flex flex-row gap-2 bg-bg2 p-3 border-b border-t border-border justify-between"><span class="flex flex-row gap-2"><!> <!> <!></span> <span class="flex flex-row gap-2"><!></span></nav>');function La(r,e){Z(e,!0);const a=Ae(),n=()=>ke(Ve,"$page",a);let i=A("");G(()=>{g(i,I(n().url.searchParams.get("id")))});var l=ya(),u=h(l),d=h(u);ta(d,{});var f=x(d,2);ia(f,{});var v=x(f,2),s=je(()=>`${X.url}/campaigns/export?id=${t(i)}`);ot(v,{get link(){return t(s)}}),m(u);var c=x(u,2),o=h(c);wa(o,{}),m(c),m(l),C(r,l),j()}var xa=M('<div id="map" class="svelte-g0bqmp"><!></div>');function Ea(r,e){Z(e,!0);let a=A(null),n={attributionControl:!1,max_zoom:20};G(async()=>{var d;const u=await fe(()=>import("../chunks/leaflet-src.DTmlu4rB.js").then(f=>f.l),[],import.meta.url);return await fe(()=>Promise.resolve({}),__vite__mapDeps([1]),import.meta.url),g(a,I(u.map("map",n).setView(e.position,e.zoom))),t(a).zoomControl.setPosition("bottomright"),(d=e.panes)==null||d.forEach(({name:f,zIndex:v})=>{t(a).createPane(f),t(a).getPane(f).style.zIndex=v,t(a).getPane(f).style.pointerEvents="none"}),P.map=t(a),()=>t(a).remove()}),Xe("map",{getMap:()=>t(a)});var i=xa(),l=h(i);nt(l,()=>e.children),m(i),C(r,i),j()}var Ia=M("<p>No annotations found</p>"),Ca=(r,e,a)=>e(t(a).id),Da=M('<tr class="h-8 hover:bg-slate-100"><td> </td><td> </td><td class="w-8"><button class="px-2 hover:text-red-600"><!></button></td></tr>'),Ha=M('<div class="flex-grow overflow-auto"><table class="table w-full"><thead><tr><th class="sticky top-0 text-left bg-bg2">Label</th><th class="sticky top-0 text-left bg-bg2">Type</th><th class="sticky top-0 bg-bg2"></th></tr></thead><tbody></tbody></table></div>'),Ba=M('<section class="flex flex-col flex-1 h-full overflow-hidden"><!></section>');function Aa(r,e){Z(e,!1);const a=l=>{confirm("Are you sure you want to delete this annotation? This action is irreversible.")&&(O.delete(l),J.deletePointsAnnotation(l),W.removeLayer(l),U.removeLayer(l))};Ge();var n=Ba(),i=h(n);k(i,()=>O.data.length==0,l=>{var u=Ia();C(l,u)},l=>{var u=Ha(),d=h(u),f=x(h(d));he(f,5,()=>O.data,be,(v,s)=>{var c=Da(),o=h(c),p=h(o);m(o);var w=x(o),D=h(w);m(w);var H=x(w),b=h(H);b.__click=[Ca,a,s];var E=h(b);tt(E,{size:"15"}),m(b),m(H),m(c),B(()=>{S(p,t(s).value),S(D,t(s).type)}),C(v,c)}),m(f),m(d),m(u),C(l,u)}),m(n),C(r,n),j()}pe(["click"]);var R=st(()=>ee),ka=M('<section class="flex flex-col flex-1 h-full overflow-hidden"><p> </p> <div class="flex flex-row gap-2"><input type="number"> <input type="number"> <input type="number"></div> <p> </p> <div class="flex flex-row gap-2"><input type="number"> <input type="number"></div></section>');function Va(r,e){Z(e,!1),Ge();var a=ka(),n=h(a),i=h(n);B(()=>S(i,`RGB bands: ${R().rgb.join(", ")??""}`)),m(n);var l=x(n,2),u=h(l);ve(u),y(u,"min",0),y(u,"max",10),y(u,"step",1);var d=x(u,2);ve(d),y(d,"min",0),y(d,"max",10),y(d,"step",1);var f=x(d,2);ve(f),y(f,"min",0),y(f,"max",10),y(f,"step",1),m(l);var v=x(l,2),s=h(v);B(()=>S(s,`Stretch: ${R().stretch.join(", ")??""}`)),m(v);var c=x(v,2),o=h(c);ve(o),y(o,"min",0),y(o,"max",2**16),y(o,"step",1);var p=x(o,2);ve(p),y(p,"min",0),y(p,"max",2**16),y(p,"step",1),m(c),m(a),B(()=>{De(u,R().rgb[0]),De(d,R().rgb[1]),De(f,R().rgb[2]),De(o,R().stretch[0]),De(p,R().stretch[1])}),Ce("input",u,w=>{const D=[...R().rgb];D[0]=parseInt(w.target.value),R(R().rgb=D)}),Ce("input",d,w=>{const D=[...R().rgb];D[1]=parseInt(w.target.value),R(R().rgb=D)}),Ce("input",f,w=>{const D=[...R().rgb];D[2]=parseInt(w.target.value),R(R().rgb=D)}),Ce("input",o,w=>{const D=[...R().stretch];D[0]=parseInt(w.target.value),R(R().stretch=D)}),Ce("input",p,w=>{const D=[...R().stretch];D[1]=parseInt(w.target.value),R(R().stretch=D)}),C(r,a),j()}var Sa=T("<desc> </desc>"),za=T("<title> </title>"),Ma=T('<svg><!><!><path d="M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z"></path></svg>');function Pa(r,e){let a=_(e,"size",8,"1em"),n=_(e,"width",24,a),i=_(e,"height",24,a),l=_(e,"color",8,"currentColor"),u=_(e,"viewBox",8,"0 0 24 24"),d=_(e,"ariaLabel",24,()=>{}),f=_(e,"ariaHidden",24,()=>{}),v=_(e,"title",24,()=>{}),s=_(e,"desc",24,()=>{}),c=_(e,"class",24,()=>{});var o=Ma(),p=h(o);k(p,s,H=>{var b=Sa(),E=h(b);m(b),B(()=>S(E,s())),C(H,b)});var w=x(p);k(w,v,H=>{var b=za(),E=h(b);m(b),B(()=>S(E,v())),C(H,b)});var D=x(w);m(o),B(()=>{y(o,"viewBox",u()),y(o,"width",n()),y(o,"height",i()),le(o,c()),y(o,"aria-label",d()),y(o,"aria-hidden",f()),y(D,"fill",l())}),C(r,o)}var Ta=(r,e)=>e(""),Oa=(r,e,a)=>e(t(a)),Ra=M('<button class="text-nowrap hover:underline"> </button>'),Na=(r,e,a)=>e(t(a)),Fa=M('<tr class="hover:bg-slate-100"><td><button class="flex hover:underline items-center gap-1 w-full"><!> </button></td></tr>'),Za=(r,e,a,n)=>e(t(a)[t(n)]),ja=M('<tr><td class="pr-1"><button class="w-full"><p class="flex items-center gap-1 w-full"><!> </p></button></td></tr>'),Ga=M('<tr><th class="text-left"> </th><td class="pl-1"> </td></tr>'),Wa=M('<p> </p> <div class="overflow-auto flex-grow flex flex-col gap-2"><input type="text" placeholder="Search in folder ..." class="p-1 rounded-md input-sm w-full"> <div class="text-sm flex"><button class="text-nowrap hover:underline"></button> <!></div> <div class="overflow-auto flex-grow"><table class="w-full"><tbody><!></tbody></table></div></div>',1),Ua=M("<p>No files found.</p>"),qa=M("<p>Loading files ...</p>"),Ja=M('<div class="flex flex-col gap-2 h-full overflow-hidden"><!></div>');function Ka(r,e){Z(e,!0);const a=Ae(),n=()=>ke(Ve,"$page",a);let i=A(I({})),l=A(I([])),u=A(!1),d=A(I([])),f=A(!1),v=I({}),s=A(null);G(async()=>{V.retrieve(n().url.searchParams.get("id"))}),G(async()=>{g(u,!0),g(i,I({})),g(l,I([]));let z=c();g(i,I(z)),g(u,!1)}),we(()=>{V.reset()});const c=()=>{const z={};return V.data.forEach(q=>{const oe=q.path.split(q.path.includes("\\")?"\\":"/");let te=z;oe.forEach((ae,ye)=>{ye==oe.length-1?te[ae]=q:(te[ae]||(te[ae]={}),te=te[ae])})}),z},o=z=>{g(l,I([...t(l),t(i)])),g(i,I(t(i)[z])),H(z)},p=()=>{t(f)?(g(d,I(t(d).slice(0,t(d).length-1))),g(f,!1)):t(l).length>0&&(g(i,I(t(l).pop())),g(d,I(t(d).slice(0,t(d).length-1))))},w=z=>{const q=t(d).indexOf(z)+1;t(d).length>t(l).length&&z.split(".").length<2&&(g(f,!1),g(d,I(t(d).slice(0,t(d).length-1))));for(let oe=0;t(l).length-q>0;(oe+=1)-1)p()},D=z=>{V.current=z},H=z=>{t(l).length>0?g(d,I([...t(d),z])):g(d,I([]))};let b=je(()=>()=>t(s)?Object.keys(t(i)).filter(z=>z.toLowerCase().includes(t(s).toLowerCase())):Object.keys(t(i)));var E=Ja(),N=h(E);k(N,()=>!t(u),z=>{var q=_e(),oe=Q(q);k(oe,()=>V.data,te=>{var ae=Wa(),ye=Q(ae),Ue=h(ye);m(ye);var Pe=x(ye,2),Se=h(Pe);ve(Se);var ze=x(Se,2),Me=h(ze);Me.__click=[Ta,w],Me.textContent="/";var qe=x(Me,2);he(qe,17,()=>t(d),be,(se,ne)=>{var ie=Ra();ie.__click=[Oa,w,ne];var Le=h(ie);m(ie),B(()=>S(Le,`${t(ne)??""}/`)),C(se,ie)}),m(ze);var Te=x(ze,2),Oe=h(Te),Re=h(Oe),Je=h(Re);k(Je,()=>t(f)==!1,se=>{var ne=_e(),ie=Q(ne);he(ie,17,()=>t(b)(),be,(Le,Y)=>{var ge=_e(),xe=Q(ge);k(xe,()=>typeof t(i)[t(Y)]=="object"&&!t(i)[t(Y)].id,Ee=>{var K=Fa(),ce=h(K),de=h(ce);de.__click=[Na,o,Y];var Ie=h(de);rt(Ie,{size:"15"});var He=x(Ie,1,!0);m(de),m(ce),m(K),B(()=>S(He,t(Y))),C(Ee,K)},Ee=>{var K=ja(),ce=h(K),de=h(ce);de.__click=[Za,D,i,Y];var Ie=h(de),He=h(Ie);Pa(He,{size:"15"});var Ke=x(He,1,!0);m(Ie),m(de),m(ce),m(K),B(()=>{var Ne,Fe;$(K,`hover:bg-slate-100 ${(((Ne=V.current)==null?void 0:Ne.id)==((Fe=t(i)[t(Y)])==null?void 0:Fe.id)?"bg-slate-100":"")??""}`),S(Ke,t(Y))}),C(Ee,K)}),C(Le,ge)}),C(se,ne)},se=>{var ne=_e(),ie=Q(ne);he(ie,17,()=>Object.keys(v),be,(Le,Y)=>{var ge=Ga(),xe=h(ge),Ee=h(xe);m(xe);var K=x(xe),ce=h(K);m(K),m(ge),B(()=>{S(Ee,`${t(Y)??""}:`),S(ce,v[t(Y)])}),C(Le,ge)}),C(se,ne)}),m(Re),m(Oe),m(Te),m(Pe),B(()=>S(Ue,`Images (${V.data.length??""}) :`)),it(Se,()=>t(s),se=>g(s,se)),C(te,ae)},te=>{var ae=Ua();C(te,ae)}),C(z,q)},z=>{var q=qa();C(z,q)}),m(E),C(r,E),j()}pe(["click"]);var Qa=(r,e)=>g(e,"labels"),Xa=(r,e)=>g(e,"annotations"),Ya=(r,e)=>g(e,"settings"),$a=M('<div class="flex flex-col p-3 border-l bg-bg2 border-border w-[300px] h-full justify-between"><div class="h-[250px]"><!></div> <div class="flex flex-col flex-1 h-full"><div class="w-full h-[2px] bg-slate-500 rounded-full my-2"></div> <span class="flex gap-4"><button>Labels</button> <button>Annotations</button> <button>Settings</button></span> <!> <!> <!></div></div>');function er(r,e){Z(e,!0);let a=A("labels");G(async()=>{if(V.current){const w=await O.retrieve(V.current.id);W.initItems(P.map),U.initItems(P.map),J.initItems(P.map),w==null||w.forEach(D=>{D.type==="detection"&&W.addLayer(D),D.type==="segmentation"&&U.addLayer(D),D.type==="points"&&J.addLayer(D)})}}),we(()=>{F.reset(),W.remove(P.map),U.remove(P.map),J.remove(P.map),O.reset()});var n=$a(),i=h(n),l=h(i);Ka(l,{}),m(i);var u=x(i,2),d=x(h(u),2),f=h(d);f.__click=[Qa,a];var v=x(f,2);v.__click=[Xa,a];var s=x(v,2);s.__click=[Ya,a],m(d);var c=x(d,2);k(c,()=>t(a)==="labels",w=>{$e(w,{})});var o=x(c,2);k(o,()=>t(a)==="annotations",w=>{Aa(w,{})});var p=x(o,2);k(p,()=>t(a)==="settings",w=>{Va(w,{})}),m(u),m(n),B(()=>{$(f,`pb-1 ${(t(a)==="labels"?"border-b-2 border-primary":"")??""}`),$(v,`pb-1 ${(t(a)==="annotations"?"border-b-2 border-primary":"")??""}`),$(s,`pb-1 ${(t(a)==="settings"?"border-b-2 border-primary":"")??""}`)}),C(r,n),j()}pe(["click"]);function Ze(r,e){Z(e,!0);const{getMap:a}=Ye("map");let n=null;G(()=>{const i=a();return i&&(n=L.tileLayer(e.url,e.options).addTo(i)),()=>n==null?void 0:n.remove()}),j()}var tr=M('<label class="svelte-u9pskg"><input type="radio" name="layers"> </label>'),ar=M('<form class="svelte-u9pskg"></form>');function rr(r,e){const a=[];let n=_(e,"layers",19,()=>["streets","satellite"]),i=_(e,"layer",15);var l=ar();he(l,21,n,be,(u,d)=>{var f=tr(),v=h(f);ve(v);var s,c=x(v);m(f),B(()=>{s!==(s=t(d))&&(v.value=(v.__value=t(d))==null?"":t(d)),S(c,` ${t(d)??""}`)}),lt(a,[],v,()=>(t(d),i()),i),C(u,f)}),m(l),C(r,l)}function or(r,e){Z(e,!0);let a=_(e,"palette",3,"viridis"),n=A(null),i=A(!1);G(()=>{const l=P.map;l&&(t(i)||(ue.initItems(l),V.data.forEach(u=>{ue.addBbox(u,l)}),ue.zoom(l)),ee.showImageBBs||ue.hide(l),V.data.length>0&&g(i,!0))}),G(()=>{const l=P.map;if(l&&V.current){V.zoom(V.current.bbox,l);let u=`${X.api_url}/images/`;const d=`stretch=${ee.stretch}&bands=${ee.rgb}&palette=${a()}`;Be.current.eotdlDatasetId?u+=`${V.current.path}/{z}/{x}/{y}.png?${d}&eotdlDatasetId=${Be.current.eotdlDatasetId}`:u+=`${Be.current.path}/${V.current.path}/{z}/{x}/{y}.png?${d}`,t(n)?t(n).setUrl(u):g(n,I(L.tileLayer(u,e.options).addTo(l)))}}),we(()=>{ue.remove(P.map),g(i,!1)}),j()}var nr=M("<!> <!>",1),ir=M('<div class="flex flex-col flex-1 h-full"><!> <div class="flex flex-row flex-1 w-full h-full"><div class="flex-1"><!></div> <div class="w-[300px]"><!></div></div></div> <!>',1);function Br(r,e){Z(e,!0);const a=Ae(),n=()=>ke(Ve,"$page",a);let i=A("streets");G(()=>{Be.retrieveOne(n().url.searchParams.get("id"))});var l=ir(),u=Q(l),d=h(u);La(d,{});var f=x(d,2),v=h(f),s=h(v);Ea(s,{position:[42.0407,3.1],zoom:4,children:(w,D)=>{var H=nr(),b=Q(H);k(b,()=>t(i)=="streets",N=>{Ze(N,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",options:{maxZoom:40,zIndex:1}})},N=>{var z=_e(),q=Q(z);k(q,()=>t(i)=="satellite",oe=>{Ze(oe,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{maxZoom:40,zIndex:1}})},null,!0),C(N,z)});var E=x(b,2);rr(E,{layers:["streets","satellite"],get layer(){return t(i)},set layer(N){g(i,I(N))}}),C(w,H)},$$slots:{default:!0}}),m(v);var c=x(v,2),o=h(c);er(o,{}),m(c),m(f),m(u);var p=x(u,2);k(p,()=>V.data,w=>{or(w,{options:{maxZoom:20,zIndex:2}})}),C(r,l),j()}export{Br as component};
