import{a as le,t as se}from"../chunks/disclose-version.DymP2m3X.js";import{p as te,a as re,c as a,b as n,g as t,e as S,s,r as l,n as i}from"../chunks/runtime.cJOh_ioU.js";import{e as oe}from"../chunks/events.BOQTMbzA.js";import{r}from"../chunks/attributes.CayNqfGD.js";import{b as N,a as A,c as R}from"../chunks/input.CvnAJZ7U.js";import{p as X}from"../chunks/proxy.D4aqs5o-.js";import{m as ie}from"../chunks/models.svelte.ChP3fjK-.js";import{g as ne}from"../chunks/entry.B2Kjkp_t.js";import{b as pe}from"../chunks/fetcher.C3wkiN9W.js";var ce=se(`<div class="w-full max-w-2xl p-6 mx-auto"><h1 class="mb-6 text-3xl font-bold">Create a new model</h1> <form class="flex flex-col gap-4"><div class="form-control"><label for="model-name" class="mb-1 font-medium label">Model Name</label> <input id="model-name" required type="text" class="w-full input input-bordered" placeholder="Enter model name"></div> <div class="form-control"><label for="model-description" class="mb-1 font-medium label">Model Description</label> <input id="model-description" required type="text" class="w-full input input-bordered" placeholder="Enter model description"></div> <div class="form-control"><label for="model-url" class="mb-1 font-medium label">Model URL</label> <input id="model-url" required type="text" class="w-full input input-bordered" placeholder="Enter model URL"></div> <div class="form-control"><label class="mb-1 font-medium label">Task</label> <div class="flex gap-4"><label class="cursor-pointer label"><input type="radio" name="task" class="radio radio-primary"> <span class="ml-2">Classification</span></label> <label class="cursor-pointer label"><input type="radio" name="task" class="radio radio-primary" disabled> <span class="ml-2">Detection</span></label> <label class="cursor-pointer label"><input type="radio" name="task" class="radio radio-primary"> <span class="ml-2">Segmentation</span></label> <label class="cursor-pointer label"><input type="radio" name="task" class="radio radio-primary"> <span class="ml-2">SAM</span></label></div></div> <div class="form-control"><label class="mb-1 font-medium preprocessing">Preprocessing options</label> <div class="flex flex-col gap-4"><label class="cursor-pointer preprocessing"><input type="checkbox" name="preprocessing" class="checkbox checkbox-primary"> <span class="ml-2">S2RGB</span> <p class="ml-8 text-sm text-gray-600">Converts Sentinel-2 bands 4,3,2 to RGB by scaling values between
            0-3000 to 0-255</p></label> <label class="cursor-pointer preprocessing"><input type="checkbox" name="preprocessing" class="checkbox checkbox-primary"> <span class="ml-2">SATRGB</span> <p class="ml-8 text-sm text-gray-600">Converts satellite bands 1,2,3 to RGB by scaling values between
            0-3000 to 0-1</p></label></div></div> <div class="form-control"><label class="mb-1 font-medium postprocessing">Postprocessing options</label> <div class="flex flex-col gap-4"><label class="cursor-pointer postprocessing"><input type="checkbox" name="postprocessing" class="checkbox checkbox-primary"> <span class="ml-2">Sigmoid</span> <p class="ml-8 text-sm text-gray-600">Applies sigmoid function to model output and thresholds at 0.5 to
            create binary mask</p></label> <label class="cursor-pointer postprocessing"><input type="checkbox" name="postprocessing" class="checkbox checkbox-primary"> <span class="ml-2">Argmax</span> <p class="ml-8 text-sm text-gray-600">Applies argmax function to model output to create a mask</p></label></div></div> <p>When you perform inference, the backend will perform a POST request to the
      model URL with the image as a multipart/form-data request, using the name
      "image" for the form data field. You can use the preprocessing and
      postprocessing options to preprocess and postprocess the image before and
      after inference (limited to simple, common operations).</p> <button class="w-full mt-4 btn btn-primary md:w-auto md:self-end" type="submit">Create Model</button></form></div>`);function he(Z,ee){te(ee,!0);const d=[];let u=S(""),b=S(""),B=S(""),o=S("segmentation"),p=X({S2RGB:!1,SATRGB:!1}),c=X({Sigmoid:!1,Argmax:!1});const ae=async e=>{if(e.preventDefault(),t(u)!==""&&t(b)!=="")try{const j=await ie.create(t(u),t(b),t(B),t(o),Object.entries(p).filter(([m,$])=>$).map(([m])=>m),Object.entries(c).filter(([m,$])=>$).map(([m])=>m));ne(`${pe.url}/models/model?id=${j.id}`)}catch(j){alert(j)}};var G=ce(),w=s(a(G),2),M=a(w),W=s(a(M),2);r(W),l(M);var T=s(M,2),Y=s(a(T),2);r(Y),l(T);var q=s(T,2),z=s(a(q),2);r(z),l(q);var C=s(q,2),F=s(a(C),2),U=a(F),v=a(U);r(v),v.value=(v.__value="classification")==null?"":"classification",i(2),l(U);var D=s(U,2),f=a(D);r(f),f.value=(f.__value="detection")==null?"":"detection",i(2),l(D);var E=s(D,2),g=a(E);r(g),g.value=(g.__value="segmentation")==null?"":"segmentation",i(2),l(E);var H=s(E,2),_=a(H);r(_),_.value=(_.__value="SAM")==null?"":"SAM",i(2),l(H),l(F),l(C);var L=s(C,2),I=s(a(L),2),O=a(I),x=a(O);r(x),x.value=(x.__value="S2RGB")==null?"":"S2RGB",i(4),l(O);var J=s(O,2),h=a(J);r(h),h.value=(h.__value="SATRGB")==null?"":"SATRGB",i(4),l(J),l(I),l(L);var K=s(L,2),Q=s(a(K),2),P=a(Q),y=a(P);r(y),y.value=(y.__value="Sigmoid")==null?"":"Sigmoid",i(4),l(P);var V=s(P,2),k=a(V);r(k),k.value=(k.__value="Argmax")==null?"":"Argmax",i(4),l(V),l(Q),l(K),i(4),l(w),l(G),oe("submit",w,ae),N(W,()=>t(u),e=>n(u,e)),N(Y,()=>t(b),e=>n(b,e)),N(z,()=>t(B),e=>n(B,e)),A(d,[],v,()=>t(o),e=>n(o,e)),A(d,[],f,()=>t(o),e=>n(o,e)),A(d,[],g,()=>t(o),e=>n(o,e)),A(d,[],_,()=>t(o),e=>n(o,e)),R(x,()=>p.S2RGB,e=>p.S2RGB=e),R(h,()=>p.SATRGB,e=>p.SATRGB=e),R(y,()=>c.Sigmoid,e=>c.Sigmoid=e),R(k,()=>c.Argmax,e=>c.Argmax=e),le(Z,G),re()}export{he as component};
